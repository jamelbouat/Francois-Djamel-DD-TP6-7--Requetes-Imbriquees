<!DOCTYPE HTML>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-typeahead/2.10.6/jquery.typeahead.min.css"></script>
<!-- <script
  src="https://code.jquery.com/jquery-3.4.0.slim.min.js"
  integrity="sha256-ZaXnYkHGqIhqTbJ6MB4l9Frs/r7U4jlx7ir8PJYBqbI="
  crossorigin="anonymous"></script> -->
  <!-- <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-typeahead/2.10.6/jquery.typeahead.min.js"></script>
  
<style type="text/css">
    html,
    body {
      height: 100%;
      margin: 0px;
    }

    .graph {
      width: 100%;
      height: 100%;
    }

    #main {
      width: 100%;
      height:  85%;
    }

    .interaction {
      width: 100%;
      height:  15%;
      padding-left: 5%;
      padding-right: 5%;
      padding-top: 10px;
      padding-bottom: 10px;

  }   


  </style>
</head>

<body>
  


  





<div id="main">
  <!-- from output.jsbin.com/pejohi -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.css" rel="stylesheet" type="text/css" />

  <div class="graph" id="visualization1"></div>


  <script type="text/javascript">

    var action = function () {
      var container = document.getElementById("visualization");
      container.parentNode.removeChild(container);
    }

    var nodes = new vis.DataSet([{'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 121, 'group': 'Movie', 'label': 'Speed has no limits Speed Racer 2008', 'title': 'tagline:Speed has no limits<br> title:Speed Racer<br> released:2008'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 116, 'group': 'Movie', 'label': 'Freedom! Forever! V for Vendetta 2006', 'title': 'tagline:Freedom! Forever!<br> title:V for Vendetta<br> released:2006'}, {'id': 105, 'group': 'Movie', 'label': 'Everything is connected Cloud Atlas 2012', 'title': 'tagline:Everything is connected<br> title:Cloud Atlas<br> released:2012'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 9, 'group': 'Movie', 'label': 'Free your mind The Matrix Reloaded 2003', 'title': 'tagline:Free your mind<br> title:The Matrix Reloaded<br> released:2003'}, {'id': 10, 'group': 'Movie', 'label': 'Everything that has a beginning has an end The Matrix Revolutions 2003', 'title': 'tagline:Everything that has a beginning has an end<br> title:The Matrix Revolutions<br> released:2003'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 128, 'group': 'Movie', 'label': 'Prepare to enter a secret world of assassins Ninja Assassin 2009', 'title': 'tagline:Prepare to enter a secret world of assassins<br> title:Ninja Assassin<br> released:2009'}, {'id': 5, 'group': 'Person', 'label': '1967 Lilly Wachowski', 'title': 'born:1967<br> name:Lilly Wachowski'}, {'id': 4, 'group': 'Person', 'label': '1960 Hugo Weaving', 'title': 'born:1960<br> name:Hugo Weaving'}, {'id': 7, 'group': 'Person', 'label': '1952 Joel Silver', 'title': 'born:1952<br> name:Joel Silver'}, {'id': 6, 'group': 'Person', 'label': '1965 Lana Wachowski', 'title': 'born:1965<br> name:Lana Wachowski'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}, {'id': 0, 'group': 'Movie', 'label': 'Welcome to the Real World The Matrix 1999', 'title': 'tagline:Welcome to the Real World<br> title:The Matrix<br> released:1999'}]);
    var edges = new vis.DataSet([{'from': 6, 'to': 116, 'label': 'WROTE', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 10, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 116, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 116, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 0, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 116, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 121, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 105, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 0, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 121, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 121, 'label': 'WROTE', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 0, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 0, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 128, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 105, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 9, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 0, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 10, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 116, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 9, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 116, 'label': 'WROTE', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 0, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 10, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 121, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 0, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 9, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 0, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 121, 'label': 'WROTE', 'arrows': 'to', 'title': ''}, {'from': 4, 'to': 0, 'label': 'ACTED_IN', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 0, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 9, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 7, 'to': 128, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 10, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}, {'from': 5, 'to': 128, 'label': 'PRODUCED', 'arrows': 'to', 'title': ''}, {'from': 6, 'to': 105, 'label': 'DIRECTED', 'arrows': 'to', 'title': ''}]);

    var data = {
      nodes: nodes,
      edges: edges
    };

    var options = {
      "manipulation": false,
      "autoResize": true,
      "height": "100%",
      "width": "100%",
      "interaction": {
        "dragNodes": true,
        "dragView": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false,
        "hover": true,
        "navigationButtons": true,
        "selectable": true,
        "selectConnectedEdges": true,
        "tooltipDelay": 300,
        "zoomView": true,
        "keyboard": {
          "enabled": false,
          "speed": {
            "x": 10,
            "y": 10,
            "zoom": 0.02
          },
          "bindToWindow": true
        }
      },
      "edges": {
        "font":{
          "size": 14
        },
      },
      "nodes": {
        "font":{
          "size": 14
        },
        "size": 25,
        "shape": "box",
        "color": {
          "border": "#2B7CE9",
          "background": "#97C2FC",
          "highlight": {
            "border": "#2B7CE9",
            "background": "#D2E5FF"
          },
          "hover": {
            "border": "white",
            "background": "white"
          }
        }
      },
      "physics": {
            "barnesHut": {
            "centralGravity": 0,
            "springLength": 240
            }
        },
      "groups": {
        "neighbours": {
          "color": "#E6E6E6"
        },
        "matches": {
          "color": "#97C2FC"
        },
        "acc": {
          "color": "#008C6E"
        },
        "entity": {
          "color": "#497C92" // "#BEAFB4",
        },
        "selected": {
          "color": "#C16060" // "#872D32"
        }
      },

      "locale": "en_EN"
    };

    var container = document.getElementById("visualization1");

    var network = new vis.Network(container, data, options);


    var hasNetworkStabilized = false;
    network.on("stabilized", function (properties) {

      if (!hasNetworkStabilized) {
        hasNetworkStabilized = true;

        network.storePositions();
        setNodesMoveable(data.nodes.get(), false);

        network.fit();
      }
    });

    network.on("dragStart", function (properties) {
      if (properties.nodes.length) {
        var node = data.nodes.get(properties.nodes[0]);
        setNodesMoveable([node], true);
      }
    });

    network.on("dragEnd", function (properties) {
      if (properties.nodes.length) {
        var node = data.nodes.get(properties.nodes[0]);
        setNodesMoveable([node], false);
      }
    });

    setNodesMoveable = function (nodes, isMoveable) {

      // first store positions
      network.storePositions();

      var updates = [];
      var keys = Object.keys(nodes);

      for (var i = 0; i < keys.length; i++) {

        var id = nodes[keys[i]].id;

        var update = {
          id: id,
          fixed: {  // v4: formerly allowToMoveX, allowToMoveY
            x: !isMoveable,
            y: !isMoveable
          }
        };

        updates.push(update);

      }

      data.nodes.update(updates);

      console.log(updates);

    };
  </script>

</div>


</body>

</html>